<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://thymeleaf.org">

<head>
    <meta charset="UTF-8" />
    <object th:include="~{fragments/common :: js}" th:remove="tag"></object>
    <object th:include="~{fragments/common :: css}" th:remove="tag"></object>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins&display=swap">
    <title>Form Tambah Silabus</title>

    <style>
        body {
            font-family: 'Poppins', sans-serif;
        }
    </style>
</head>

<body>
    <nav th:replace="~{fragments/navbar :: navbar('silabus')}"></nav>
    <br><br><br>
    <div class="container">
        <div class="card m-4 p-4" style="            box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;
">
            <div class="card-body">
                <div class="justify-content-center">
                    <h2 class="text-center">Tambah Bahan Ajar</h2>
                    <br>
                    <!-- <form th:action="@{/barang/tambah}" th:object="${barangDTO}" method="POST"></form> -->
                    <form th:action="@{/silabus/tambah}" th:object="${silabusDTO}" method="POST"
                        enctype="multipart/form-data">

                        Nama Bahan Ajar: <br>
                        <input class="form-control" type="text" th:field="*{deskripsi}" required name="name" id="name">
                        </br>


                        Tingkatan: <br>
                        <select class="form-control" name="tingkatan" id="tingkatan" th:field="*{tingkatan}" required>
                            <option value="SD" th:text="'SD'"></option>
                            <option value="SMP" th:text="'SMP'"></option>
                            <option value="SMA/SMK" th:text="'SMA/SMK'"></option>
                        </select>
                        <br>
                        File: <br>
                        <input type="file" name="file" id="file" required />
                        <br>

                        <br>
                        <button class="btn btn-primary" type="submit" onclick="return confirmRegistration()"
                            style="background-color: #087988;" id="postButton">Simpan</button>
                        <!-- <a class="btn btn-primary" href="/">Home</a> -->
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script>
        function confirmRegistration() {
            let name = document.getElementById("name");
            let tingkatan = document.getElementById("tingkatan");
            let file = document.getElementById("file");
            let postButton = document.getElementById("postButton");
            postButton.disabled = true;

            name.addEventListener("input", () => { // Also using `input` instead of `change`
                if (name.value.length > 0) {
                    document.getElementById("postButton").disabled = false;
                } else {
                    document.getElementById("postButton").disabled = true;
                }
            });

            tingkatan.addEventListener("input", () => { // Also using `input` instead of `change`
                if (tingkatan.value.length > 0) {
                    document.getElementById("postButton").disabled = false;
                } else {
                    document.getElementById("postButton").disabled = true;
                }
            });

            file.addEventListener("input", () => { // Also using `input` instead of `change`
                if (file.value.length > 0) {
                    document.getElementById("postButton").disabled = false;
                } else {
                    document.getElementById("postButton").disabled = true;
                }
            });

            if (name.value.length == 0 || tingkatan.value.length == 0 || file.value.length == 0) {
                postButton = true;
            } else {
                postButton.disabled = false;
            }

            // return confirm("Apakah Anda yakin ingin menambahkan bahan ajar dengan informasi yang telah diisi?");
        }
    </script>

</body>

</html>